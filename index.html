
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.3/font/bootstrap-icons.min.css">
    <script src="call.js"></script>
    <script src="logout.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

     <!-- Bootstrap JS (with Popper for modals) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>


    <link rel="stylesheet" href="style/style.css">
    <title>Eric Portfolio</title>
</head>

<body>
    <section id="index" >
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand py-3" style="margin-left: 16%;" href="#">ERIC KABOSI</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse col-md-8" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#index">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#aboutme">ABOUT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#portfolio">PORTFOLIO</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#blogs">BLOGS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#contacts">CONTACTS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="auth-link" href="">LOGIN</a>
                </li>
            </ul>
        </div>
    </nav>
</section>

<br><br><br><br>
        <section class="container mt-5 py-5">
            <div class="row">

                <div class="col text-center" id="text-title">
                    <h1 class="display-6" id="slow-motion-text">Hello ! I am Eric Manishimwe</h1>
                    <p class="lead" id="slow-motion-text-p">A Full Stack Developer</p>
                </div>
                <div class="col text-center">
                    <img src="Images/20240316_161103-removebg-preview.png" alt="Eric's Portfolio Image"
                        class="portfolio-image">
                </div>
            </div>
            <div class="row">
                <div class="col text-center">
                    <div class="rectangle"></div>
                </div>
                <div class="col text-center">
                    <div class="rectangle1"></div>
                </div>

                
                <div class="col text-center">
                    <div class="rectangle2"></div>
                </div>
            </div>

            <div class="row">
                <div class="col text-center">
                    <div class="rectangle11"></div>
                </div>
                <div class="col text-center">
                    <div class="rectangle12"></div>
                </div>
                <div class="col text-center">
                    <div class="rectangle23"></div>
                </div>
            </div>

        </section>
    </section>
    <section id="aboutme">
        <div style=" width:100%;" class="text-center">
            <div class="section-type text-center ">ABOUT<span style="color: blue;"> ME </span></div>
        </div>
        <div class="row">
            <div class="col text-center">
                <img src="Images/20240316_161103-removebg-preview.png" alt="Eric'sPortfolio Image"
                    class="portfolio-image1">
            </div>
            <div class="col ">
                <div class="mt-5 py-5 col-md-10">
                    <h3 class=""> Eric Manishimwe</h1>
                        <p class="lead">Fronted & Backed Developer - Web Developer</p>
                        <p class="">Am Eric , consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                            dolore magna aliqua.
                            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                            commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
                            dolore eu fugiat nulla pariatur.
                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
                            anim id est laborum.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut aliquip ex ea commodo consequat.
                        </p>
                        <p class="">Am Eric , consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                            dolore magna aliqua.
                            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                            commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
                            dolore eu fugiat nulla pariatur.
                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
                            anim id est laborum.
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut aliquip ex ea commodo consequat.
                        </p>
                        <a href="" class="btn btn-primary">READ MORE <i class="bi bi-arrow-right"></i> </a>
                </div>
            </div>
        </div>
        </div>
    </section>
    <section class="container col-md-10 mt-5 " id="portfolio">
        <div style=" width:100%;" class="text-center">
            <div class="section-type text-center ">PORTFO <span style="color: blue;">LIO </span></div>
        </div>
        <div class="row justify-content mt-5 py-5">
            <div class="col-md-3">
                <div class="card portfolio-card  col-md-15">
                    <img src="Images/uuuu.webp" alt="Eric's Portfolio Image" class="card-img-top portfolio-imag">
                    <div class="card-body col-md-30">
                        <h5 class="card-title">Eric Ltd E-commerce </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        </p>
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        To visit it click Here <a href="#" class="link">E-commerce</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card portfolio-card col-md-15">
                    <img src="Images/g-quiz-logo-normal1681053999.png" alt="Eric's Portfolio Image"
                        class="card-img-top portfolio-imag ">
                    <div class="card-body">
                        <h5 class="card-title">Online Quiz</h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Online Quiz</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card portfolio-card  col-md-15">
                    <img src="Images/heartbeeat.jpg" alt="Eric's Portfolio Image" id="portfolio-imag"
                        class="card-img-top portfolio-imag  ">
                    <div class="card-body">
                        <h5 class="card-title">Heart Beat </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Heart Beat </a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card portfolio-card col-md-15">
                    <img src="Images/3ee2d09be1740dc0a9b85853ff451f53-removebg-preview.png" alt="Eric's Portfolio Image"
                        class="card-img-top portfolio-imag">
                    <div class="card-body">
                        <h5 class="card-title">Car washing Management </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Car washing </a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 py-5">
                <div class="card portfolio-card col-md-15">
                    <img src="Images/images.jpg" alt="Eric's Portfolio Image" class="card-img-top portfolio-imag">
                    <div class="card-body">
                        <h5 class="card-title">Environmental Clearance Mg System </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Car washing </a>
                    </div>
                </div>
            </div>








































































            <div class="col-md-3 py-5">
                <div class="card portfolio-card col-md-15">
                    <img src="Images/g-quiz-logo-normal1681053999.png" alt="Eric's Portfolio Image"
                        class="card-img-top portfolio-imag ">
                    <div class="card-body">
                        <h5 class="card-title">Online Quiz</h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Online Quiz</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 py-5">
                <div class="card portfolio-card  col-md-15">
                    <img src="Images/nodesja-removebg-preview.png" alt="Eric's Portfolio Image" id="portfolio-imag"
                        class="card-img-top portfolio-imag  ">
                    <div class="card-body">
                        <h5 class="card-title">Node Js Project </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Node Js Project </a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 py-5">
                <div class="card portfolio-card col-md-15">
                    <img src="Images/3ee2d09be1740dc0a9b85853ff451f53-removebg-preview.png" alt="Eric's Portfolio Image"
                        class="card-img-top portfolio-imag">
                    <div class="card-body">
                        <h5 class="card-title">Car washing Management </h5>
                        <p class="card-text">
                            Buying and selling of goods or services using the internet. It encompasses a wide range of
                            business activities.
                        <p class="card-text"> Work on it in 9 Weeks .</p>
                        </p>
                        To visit it click Here <a href="#" class="link"> Car washing </a>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>


    <section class="container col-md-10 mt-5" id="blogs">
        <div style="width:100%;" class="text-center">
            <div class="section-type text-center">LATEST <span style="color: blue;"> NEWS </span></div>
        </div>
        <div class="row justify-content py-5" id="blogsContainer"></div>
    </section>
    

<section class="container text-center " id="contacts">
    <div class="section-type text-center">FEED <span style="color: blue;"> BACK</span></div>
        <div class="row justify-content-center">
            <div class="col">
                <div class="card-body">
                    <img src="Images/20240316_161103-removebg-preview.png" alt="Eric'sPortfolio Image"
                    class="portfolio-image1">
                </div>
            </div>
            <div class="col mt-5 py-2">
                <div class="card-body mt-5 py-5">
                    <p class="message mt-1">Got any question or suggestion? Fill out this form to reach out </p>
                    <input type="text" class="form-control mt-5" placeholder="Full Name">
                    <input type="text" class="form-control mt-3" placeholder="Email">
                    <textarea  class="form-control mt-3" rows="5">
                    </textarea>
                    <button class="btn btn-primary col-md-5 mt-4">Send Feed Back</button> 
                </div>
            </div>
        </div>
    </div>    
 </section>

    <footer class="footer">
        <div class="row justify-content-center" style="margin-left: 8%;">
            <div class="col ml-5 ">
                <div class="card-body">
                    <p class="card-texts" style="font-size: 18px; color: rgb(255, 255, 255);">
                        &nbsp;&nbsp;&nbsp;&nbsp; Contact Us
                    </p>
                    <p class="card-text" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/contactas (1).png" alt="Eric's Portfolio Image" class="footer-image">
                        +250789704679
                    </p>
                    <p class="card-texts" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/EMAIL-removebg-preview.png" alt="Eric's Portfolio Image" class="footer-image">
                        manishimweeric54@gmail.com
                    </p>
                    <p class="card-texts" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/git-removebg-preview.png" alt="Eric's Portfolio Image" class="footer-image">
                        Ericmanishimwe
                    </p>
                </div>
            </div>
            <div class="col ml-5 ">
                <div class="card-body">
                    <p class="card-texts" style="font-size: 18px; color: rgb(255, 255, 255);">
                        &nbsp;&nbsp;&nbsp;&nbsp; Location
                    </p>
                    <p class="card-texts">
                        <img src="Images/contactas (5).png" alt="Eric's Portfolio Image" class="footer-image"> KN 5 Rd,
                        Kigali, Kigali City, RW
                    </p>
                    <p class="card-texts">
                        <img src="Images/contactas (5).png" alt="Eric's Portfolio Image" class="footer-image">
                        Rwandan-Kigali-Gasabo
                    </p>
                </div>
            </div>
            <div class="col ml-5 ">
                <div class="card-body mt-3">
                    <input type="text" class="form-controls " placeholder="Contact us">
                    <p>
                        <input type="text" class="form-controls mt-4" placeholder="Join us">
                    <p>
                </div>
            </div>
            <div class="col ml-5 col-data  mt-5 py-2">
                <p class="card-texts ml-5">
                    <a href="" class="link"> <img src="Images/contactas (2).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (3).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (4).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/instagrams-removebg-preview.png"
                            alt="Eric's Portfolio Image" class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (1).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                </p>
            </div>
            <br>
        </div>
        </section>
        <section class="container text-center copylihty">
            &copy; 2023 ERIC MANISHIMWE &nbsp;&nbsp; LEGACY  POLICY

<br>
        </section>
    </footer>
    <br>
    <div class="modal fade" id="commentModal" tabindex="-1" aria-labelledby="commentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered"> <!-- Added modal-dialog-centered here -->
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="commentModalLabel">Comments</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- Comments will be displayed here -->
              <div id="commentsContainer"></div>
      
              <!-- Add Comment Form -->
              <form id="addCommentForm">
                <div class="mb-3">
                  <label for="commentContent" class="form-label">Add a comment</label>
                  <textarea class="form-control" id="commentContent" rows="2" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit Comment</button>
              </form>
            </div>
          </div>
        </div>
    </div>
    


    <script>
        const token = localStorage.getItem('token');
        
        const authLink = document.getElementById('auth-link');        
        if (token) {

            authLink.textContent = 'LOGOUT';
            authLink.href = '#'; 
            authLink.onclick = function() {
                logout();
            };
        } else {
            authLink.textContent = 'LOGIN';
            authLink.href = 'login.html';
        }
    </script>
    

<script>
document.addEventListener('DOMContentLoaded', () => {    
    fetch('https://blogs-backends-x8t0.onrender.com/api/blogs',{
        method: 'GET',
    })
    .then(response => response.json())
    .then(data => {
        const blogsContainer = document.getElementById('blogsContainer');
        blogsContainer.innerHTML = '';

        data.forEach((post) => {
            const blogHTML = `
                <div class="row justify-content py-2">
                    <div class="col-md-3">
                        <div class="">
                            <img src="${post.image}" alt="Blog Image" class="card-img-top portfolio-ima">
                        </div>
                    </div>
                    <div class="col">
                        <div class="card-body">
                            <h5 class="card-title col-md-5">${post.title}</h5>
                            <p class="card-text col-md-11">${post.content.slice(0, 100)}...</p>
                            <p class="col">
                                    <img src="Images/likephot-removebg-preview.png" class="images like-image" alt="Like">
                                <span id="like-count-${post._id}" class="likenumber">${post.likesCount || 0}</span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <img src="Images/comment-removebg-preview.png" class="images comment-image" alt="Comment">                
                                <span class="commentcount">${post.commentsCount || 0}</span>
                            </p>
                            &nbsp;&nbsp;
                            <a href="blogsdetail.html?id=${post._id}" class="btn btn-primary">Read More <i class="bi bi-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            `;
            blogsContainer.insertAdjacentHTML('beforeend', blogHTML);
        });

        document.querySelectorAll('.comment-link').forEach(commentLink => {
            commentLink.addEventListener('click', (e) => {
                const postId = e.target.closest('.comment-link').dataset.postId;
                fetchComments(postId);
            });
        });
    })
    .catch(error => console.error('Error fetching data:', error));
});

function likePost(postId) {
    const url = `https://blogs-backends-x8t0.onrender.com/api/blogs/${postId}/like`;

    Verifytoken(url, {
        method: 'POST',
    })
    .then(async (response) => {
        if (response.ok) {
            const result = await response.json();
            const likeCountElement = document.getElementById(`like-count-${postId}`);
            const likeButton = document.querySelector(`a[onclick="likePost('${postId}')"] img`);
            if (result.message === 'Like added') {
                likeCountElement.textContent = parseInt(likeCountElement.textContent) + 1;
                likeButton.classList.add('liked');
            } else if (result.message === 'Like removed') {
                likeCountElement.textContent = Math.max(0, parseInt(likeCountElement.textContent) - 1);
                likeButton.classList.remove('liked');
            }
        } else {
            const errorText = await response.text();
            console.error('Failed to like blog:', errorText);
        }
    })

}



function fetchComments(postId) {
    const url = `https://blogs-backends-x8t0.onrender.com/api/blogs/${postId}/comments`;

        fetch(url, {
            method: 'GET',
            
        })
        .then(response => response.json())
        .then(comments => {
            const commentsContainer = document.getElementById('commentsContainer');
            commentsContainer.innerHTML = '';

            comments.forEach(comment => {
                const commentHTML = `
                   <div class="comment py-2">
                    <div class="d-flex align-items-start">
                        <!-- User Avatar or Icon (optional) -->
                        <img src="Images/usereico.png" alt="User Avatar" class="rounded-circle me-3" style="width: 40px; height: 40px;">

                        <!-- Comment Body -->
                        <div class="comment-body">
                            <h6 class="fw-bold mb-1">${comment.user.email}</h6>
                            <p class="mb-0 text-muted">${comment.content}</p>
                            <small class="text-muted">${new Date(comment.date).toLocaleString()}</small> <!-- Example for a timestamp -->
                        </div>
                    </div>
                </div>

                `;
                commentsContainer.insertAdjacentHTML('beforeend', commentHTML);
            });

            document.getElementById('addCommentForm').dataset.postId = postId;
        })
        .catch(error => console.error('Error fetching comments:', error));
}

document.getElementById('addCommentForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const postId = e.target.dataset.postId;
    const commentContent = document.getElementById('commentContent').value;
    const token = localStorage.getItem('token');

    if (!token) {
        alert('Your token has expired. Would you like to log in again?');
        document.getElementById('commentContent').value = '';
        return;
    }

    fetch(`https://blogs-backends-x8t0.onrender.com/api/blogs/${postId}/comments`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `${token}` 
        },
        body: JSON.stringify({ content: commentContent })
    })

    
    .then(response => response.json())
    .then(newComment => {

        const commentsContainer = document.getElementById('commentsContainer');
        const newCommentHTML = `
            <div class="comment">
                <p><strong>${token.email}</strong>: ${newComment.content}</p>
            </div>
        `;
        commentsContainer.insertAdjacentHTML('beforeend', newCommentHTML);
        document.getElementById('commentContent').value = '';
    })
    .catch(error => console.error('Error submitting comment:', error));
});

</script>
</body>

</html>