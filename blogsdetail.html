<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style/style.css">
    <title>Eric Portfolio</title>
</head>
<body>
    <section id="index">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand py-3" style="margin-left: 16%;" href="#">ERIC KABOSI</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse col-md-8" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#blogs">BACK TO HOME</a>
                    </li>
                </ul>
            </div>
        </nav>
    </section>
    <br><br><br><br>
    <section class="container col-md-10 mt-5" id="blogs-more">
        <div class="text-center mb-4">
            <h5 class="section-type">MORE <span class="text-primary">DETAIL</span></h5>
        </div>
    
        <div id="loading" class="text-center my-5 d-none">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    
        <div class="row justify-content-center py-5 mt-5" id="post-details" style="display: none;">

            <div class="col-md-3 d-flex justify-content-center mb-4 mb-md-0">
                <img id="post-image" src="" alt="Post Image" class="img-fluid rounded shadow">
            </div>

            <div class="col-md-7">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <h5 id="post-title" class="card-title mb-3"></h5>
                        <p id="post-description" class="card-text mb-3"></p>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <h6 class="text-muted">POSTED BY:</h6>
                                <p id="post-author" class="fw-bold"></p>
                            </div>
                            <div class="col-md-6">
                                <h6 class="text-muted">TIME TO READ:</h6>
                                <p id="post-date" class="fw-bold"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <p id="post-content" class="card-text" style="font-size: 17px;"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer class="footer">
        <div class="row justify-content-center" style="margin-left: 8%;">
            <div class="col ml-5 ">
                <div class="card-body">
                    <p class="card-texts" style="font-size: 18px; color: rgb(255, 255, 255);">
                        &nbsp;&nbsp;&nbsp;&nbsp; Contact Us
                    </p>
                    <p class="card-text" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/contactas (1).png" alt="Eric's Portfolio Image" class="footer-image">
                        +250789704679
                    </p>
                    <p class="card-texts" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/EMAIL-removebg-preview.png" alt="Eric's Portfolio Image" class="footer-image">
                        manishimweeric54@gmail.com
                    </p>
                    <p class="card-texts" style="font-size: 15px; color: rgb(255, 255, 255);">
                        <img src="Images/git-removebg-preview.png" alt="Eric's Portfolio Image" class="footer-image">
                        Ericmanishimwe
                    </p>
                </div>
            </div>
            <div class="col ml-5 ">
                <div class="card-body">
                    <p class="card-texts" style="font-size: 18px; color: rgb(255, 255, 255);">
                        &nbsp;&nbsp;&nbsp;&nbsp; Location
                    </p>
                    <p class="card-texts">
                        <img src="Images/contactas (5).png" alt="Eric's Portfolio Image" class="footer-image"> KN 5 Rd,
                        Kigali, Kigali City, RW
                    </p>
                    <p class="card-texts">
                        <img src="Images/contactas (5).png" alt="Eric's Portfolio Image" class="footer-image">
                        Rwandan-Kigali-Gasabo
                    </p>
                </div>
            </div>
            <div class="col ml-5 ">
                <div class="card-body mt-3">
                    <input type="text" class="form-controls " placeholder="Contact us">
                    <p>
                        <input type="text" class="form-controls mt-4" placeholder="Join us">
                    <p>
                </div>
            </div>
            <div class="col ml-5 col-data  mt-5 py-2">
                <p class="card-texts ml-5">
                    <a href="" class="link"> <img src="Images/contactas (2).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (3).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (4).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/instagrams-removebg-preview.png"
                            alt="Eric's Portfolio Image" class="footer-images"></a>
                    <a href="" class="link"> <img src="Images/contactas (1).png" alt="Eric's Portfolio Image"
                            class="footer-images"></a>
                </p>
            </div>
            <br>
        </div>
        </section>
        <section class="container text-center copylihty">
            &copy; 2023 ERIC MANISHIMWE &nbsp;&nbsp; LEGACY  POLICY

<br>
    <script>
        document.addEventListener("DOMContentLoaded", function () {

            const urlParams = new URLSearchParams(window.location.search);
            const postId = urlParams.get('id');

            if (postId) {
                fetch(`https://blogs-backends-x8t0.onrender.com/api/blogs/${postId}`)
                    .then(response => response.json())
                    .then(post => {
                        document.getElementById('loading').style.display = 'none';

                        document.getElementById('post-title').textContent = post.title;
                        document.getElementById('post-description').textContent = post.description;
                        document.getElementById('post-author').textContent = post.author;
                        document.getElementById('post-content').textContent = post.content;
                        document.getElementById('post-image').src = post.image;
                        document.getElementById('post-date').textContent= post.date;
                        document.getElementById('post-details').style.display = 'flex';
                    })
                    .catch(error => {
                        console.error('Error fetching post data:', error);
                        document.getElementById('loading').innerHTML = '<p>Error loading post details. Please try again later.</p>';
                    });
            } else {
                console.error('No post ID found in URL.');
                document.getElementById('loading').innerHTML = '<p>No post ID found. Please provide a valid post ID in the URL.</p>';
            }
        });
    </script>
</body>
</html>
